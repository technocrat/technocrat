<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data Science Portfolio</title>
  <meta name="description" content="Landing site">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Data Science Portfolio" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Landing site" />
  <meta name="github-repo" content="github/technocrat/technocrat.github.io" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Science Portfolio" />
  
  <meta name="twitter:description" content="Landing site" />
  

<meta name="author" content="Richard Careaga">


<meta name="date" content="2018-09-10">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html">
<link rel="next" href="daycare.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>



</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Purpose</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#updates"><i class="fa fa-check"></i><b>1.1</b> Updates</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#literate-programming-the-tight-integration-of-code-and-text"><i class="fa fa-check"></i><b>1.2</b> Literate programming: the tight integration of code and text</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#background"><i class="fa fa-check"></i><b>1.3</b> Background</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#the-cases"><i class="fa fa-check"></i><b>1.4</b> The Cases</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#current-credentials"><i class="fa fa-check"></i><b>1.5</b> Current Credentials</a><ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#graduate-school-level"><i class="fa fa-check"></i><b>1.5.1</b> Graduate school level</a></li>
<li class="chapter" data-level="1.5.2" data-path="index.html"><a href="index.html#undergraduate-level"><i class="fa fa-check"></i><b>1.5.2</b> Undergraduate level</a></li>
<li class="chapter" data-level="1.5.3" data-path="index.html"><a href="index.html#prior-analytic-and-programming-experience"><i class="fa fa-check"></i><b>1.5.3</b> Prior analytic and programming experience</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="dectab.html"><a href="dectab.html"><i class="fa fa-check"></i><b>2</b> The Financial Cash Flow Model: Python on Wall Street</a><ul>
<li class="chapter" data-level="2.1" data-path="dectab.html"><a href="dectab.html#case-description"><i class="fa fa-check"></i><b>2.1</b> Case Description</a></li>
<li class="chapter" data-level="2.2" data-path="dectab.html"><a href="dectab.html#xml-conversion"><i class="fa fa-check"></i><b>2.2</b> XML Conversion</a></li>
<li class="chapter" data-level="2.3" data-path="dectab.html"><a href="dectab.html#from-xml-to-plain-text"><i class="fa fa-check"></i><b>2.3</b> From XML to Plain Text</a></li>
<li class="chapter" data-level="2.4" data-path="dectab.html"><a href="dectab.html#proof-of-concept-summary-fico-statistics"><i class="fa fa-check"></i><b>2.4</b> Proof of Concept, Summary FICO Statistics</a></li>
<li class="chapter" data-level="2.5" data-path="dectab.html"><a href="dectab.html#the-cash-flow-model"><i class="fa fa-check"></i><b>2.5</b> The Cash Flow Model</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><i class="fa fa-check"></i><b>3</b> The subprime mortgage crisis unfolds in early 2007, part 1</a><ul>
<li class="chapter" data-level="3.1" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#case-description-1"><i class="fa fa-check"></i><b>3.1</b> Case Description</a></li>
<li class="chapter" data-level="3.2" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#lessons-learned"><i class="fa fa-check"></i><b>3.2</b> Lessons Learned</a></li>
<li class="chapter" data-level="3.3" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#data-wrangling"><i class="fa fa-check"></i><b>3.3</b> Data Wrangling</a><ul>
<li class="chapter" data-level="3.3.1" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#the-pool-dataset"><i class="fa fa-check"></i><b>3.3.1</b> The pool dataset</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#preliminary-analysis-based-on-fico-scores-using-linear-regression"><i class="fa fa-check"></i><b>3.4</b> Preliminary analysis, based on FICO scores, using linear regression</a><ul>
<li class="chapter" data-level="3.4.1" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#ficos-importance"><i class="fa fa-check"></i><b>3.4.1</b> FICO’s importance</a></li>
<li class="chapter" data-level="3.4.2" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#performance-outcome-measure"><i class="fa fa-check"></i><b>3.4.2</b> Performance outcome measure</a></li>
<li class="chapter" data-level="3.4.3" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#fico-scores-in-the-pool"><i class="fa fa-check"></i><b>3.4.3</b> FICO scores in the pool</a></li>
<li class="chapter" data-level="3.4.4" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#the-fico-scores-are-not-normally-distributed"><i class="fa fa-check"></i><b>3.4.4</b> The FICO scores are not normally distributed</a></li>
<li class="chapter" data-level="3.4.5" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#none-of-the-quantitative-variables-can-be-used-in-linear-regression-for-the-pool-as-a-whole"><i class="fa fa-check"></i><b>3.4.5</b> None of the quantitative variables can be used in linear regression for the pool as a whole</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><i class="fa fa-check"></i><b>4</b> The subprime mortgage crisis unfolds in early 2007, part 2</a><ul>
<li class="chapter" data-level="4.1" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#the-fall-of-fico"><i class="fa fa-check"></i><b>4.1</b> The fall of FICO</a></li>
<li class="chapter" data-level="4.2" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#overview-of-the-down-dependent-variable"><i class="fa fa-check"></i><b>4.2</b> Overview of the <em>down</em> dependent variable</a></li>
<li class="chapter" data-level="4.3" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#logistic-regression"><i class="fa fa-check"></i><b>4.3</b> Logistic Regression</a><ul>
<li class="chapter" data-level="4.3.1" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#restructuring-the-data"><i class="fa fa-check"></i><b>4.3.1</b> Restructuring the data</a></li>
<li class="chapter" data-level="4.3.2" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#creating-training-and-testing-subsets-and-their-subsamples"><i class="fa fa-check"></i><b>4.3.2</b> Creating training and testing subsets and their subsamples</a></li>
<li class="chapter" data-level="4.3.3" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#using-the-quantitative-variables-to-predict-loan-performance-with-logistic-regression"><i class="fa fa-check"></i><b>4.3.3</b> Using the quantitative variables to predict loan performance with logistic regression</a></li>
<li class="chapter" data-level="4.3.4" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#intepreting-the-results"><i class="fa fa-check"></i><b>4.3.4</b> Intepreting the results</a></li>
<li class="chapter" data-level="4.3.5" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#next-steps"><i class="fa fa-check"></i><b>4.3.5</b> Next steps</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="daycare.html"><a href="daycare.html"><i class="fa fa-check"></i><b>5</b> Daycare Costs and Unexamined Assumptions</a><ul>
<li class="chapter" data-level="5.1" data-path="daycare.html"><a href="daycare.html#case-description-2"><i class="fa fa-check"></i><b>5.1</b> Case Description</a></li>
<li class="chapter" data-level="5.2" data-path="daycare.html"><a href="daycare.html#with-the-right-metrics"><i class="fa fa-check"></i><b>5.2</b> With the right metrics</a></li>
<li class="chapter" data-level="5.3" data-path="daycare.html"><a href="daycare.html#takeaway"><i class="fa fa-check"></i><b>5.3</b> Takeaway</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html"><i class="fa fa-check"></i><b>6</b> The Enron Email Corpus</a><ul>
<li class="chapter" data-level="6.1" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#case-description-3"><i class="fa fa-check"></i><b>6.1</b> Case Description</a></li>
<li class="chapter" data-level="6.2" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#data-preparation"><i class="fa fa-check"></i><b>6.2</b> Data preparation</a><ul>
<li class="chapter" data-level="6.2.1" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#preparation"><i class="fa fa-check"></i><b>6.2.1</b> Preparation</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#strategy-for-exploration"><i class="fa fa-check"></i><b>6.3</b> Strategy for exploration</a><ul>
<li class="chapter" data-level="6.3.1" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#dont-look-for-much-from-the-big-shots"><i class="fa fa-check"></i><b>6.3.1</b> Don’t look for much from the big shots</a></li>
<li class="chapter" data-level="6.3.2" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#volume-is-not-evenly-distributed-among-users"><i class="fa fa-check"></i><b>6.3.2</b> Volume is not evenly distributed among users</a></li>
<li class="chapter" data-level="6.3.3" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#keywords-may-not-help-much"><i class="fa fa-check"></i><b>6.3.3</b> Keywords may not help much</a></li>
<li class="chapter" data-level="6.3.4" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#dont-neglect-time-series"><i class="fa fa-check"></i><b>6.3.4</b> Don’t neglect time series</a></li>
<li class="chapter" data-level="6.3.5" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#avoid-the-echo-chamber"><i class="fa fa-check"></i><b>6.3.5</b> Avoid the echo chamber</a></li>
<li class="chapter" data-level="6.3.6" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#the-real-value-proposition"><i class="fa fa-check"></i><b>6.3.6</b> The REAL value proposition</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#some-preliminary-results"><i class="fa fa-check"></i><b>6.4</b> Some preliminary results</a><ul>
<li class="chapter" data-level="6.4.1" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#unique-senders"><i class="fa fa-check"></i><b>6.4.1</b> Unique senders</a></li>
<li class="chapter" data-level="6.4.2" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#unique-receivers"><i class="fa fa-check"></i><b>6.4.2</b> Unique receivers</a></li>
<li class="chapter" data-level="6.4.3" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#senders-who-are-also-receivers"><i class="fa fa-check"></i><b>6.4.3</b> Senders who are also receivers</a></li>
<li class="chapter" data-level="6.4.4" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#senderreceivers-with-enron-addresses"><i class="fa fa-check"></i><b>6.4.4</b> Sender/receivers with Enron addresses</a></li>
<li class="chapter" data-level="6.4.5" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#subject-line-words"><i class="fa fa-check"></i><b>6.4.5</b> Subject line words</a></li>
<li class="chapter" data-level="6.4.6" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#places-mentioned"><i class="fa fa-check"></i><b>6.4.6</b> Places mentioned</a></li>
<li class="chapter" data-level="6.4.7" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#periodicity"><i class="fa fa-check"></i><b>6.4.7</b> Periodicity</a></li>
<li class="chapter" data-level="6.4.8" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#social-networks"><i class="fa fa-check"></i><b>6.4.8</b> Social Networks</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#future-work"><i class="fa fa-check"></i><b>6.5</b> Future work</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="counted.html"><a href="counted.html"><i class="fa fa-check"></i><b>7</b> 2015 Police Involved Homicides</a><ul>
<li class="chapter" data-level="7.1" data-path="counted.html"><a href="counted.html#introduction"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="counted.html"><a href="counted.html#the-data"><i class="fa fa-check"></i><b>7.2</b> The Data</a></li>
<li class="chapter" data-level="7.3" data-path="counted.html"><a href="counted.html#tabular-summary-of-the-data"><i class="fa fa-check"></i><b>7.3</b> Tabular summary of the data</a><ul>
<li class="chapter" data-level="7.3.1" data-path="counted.html"><a href="counted.html#gender"><i class="fa fa-check"></i><b>7.3.1</b> Gender</a></li>
<li class="chapter" data-level="7.3.2" data-path="counted.html"><a href="counted.html#raceethnicity"><i class="fa fa-check"></i><b>7.3.2</b> Race/Ethnicity</a></li>
<li class="chapter" data-level="7.3.3" data-path="counted.html"><a href="counted.html#age"><i class="fa fa-check"></i><b>7.3.3</b> Age</a></li>
<li class="chapter" data-level="7.3.4" data-path="counted.html"><a href="counted.html#cause-of-death"><i class="fa fa-check"></i><b>7.3.4</b> Cause of Death</a></li>
<li class="chapter" data-level="7.3.5" data-path="counted.html"><a href="counted.html#whether-and-how-civilians-were-armed"><i class="fa fa-check"></i><b>7.3.5</b> Whether and how civilians were armed</a></li>
<li class="chapter" data-level="7.3.6" data-path="counted.html"><a href="counted.html#location"><i class="fa fa-check"></i><b>7.3.6</b> Location</a></li>
<li class="chapter" data-level="7.3.7" data-path="counted.html"><a href="counted.html#months-and-days-of-death"><i class="fa fa-check"></i><b>7.3.7</b> Months and Days of Death</a></li>
<li class="chapter" data-level="7.3.8" data-path="counted.html"><a href="counted.html#cause-of-death-and-civilian-armed-status"><i class="fa fa-check"></i><b>7.3.8</b> Cause of Death and Civilian Armed Status</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="counted.html"><a href="counted.html#geographic-analysis-of-the-data"><i class="fa fa-check"></i><b>7.4</b> Geographic Analysis of the Data</a><ul>
<li class="chapter" data-level="7.4.1" data-path="counted.html"><a href="counted.html#many-datasets-are-distributed-similarly-to-population"><i class="fa fa-check"></i><b>7.4.1</b> Many Datasets are Distributed Similarly to Population</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="counted.html"><a href="counted.html#what-conclusions-can-we-draw-from-the-short-national-summary"><i class="fa fa-check"></i><b>7.5</b> What conclusions can we draw from the short, national summary?</a><ul>
<li class="chapter" data-level="7.5.1" data-path="counted.html"><a href="counted.html#detail-underlying-deaths-of-women"><i class="fa fa-check"></i><b>7.5.1</b> Detail underlying deaths of women</a></li>
<li class="chapter" data-level="7.5.2" data-path="counted.html"><a href="counted.html#cautionary-example"><i class="fa fa-check"></i><b>7.5.2</b> Cautionary Example</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="counted.html"><a href="counted.html#next-steps-1"><i class="fa fa-check"></i><b>7.6</b> Next steps</a><ul>
<li class="chapter" data-level="7.6.1" data-path="counted.html"><a href="counted.html#finer-geographic-detail"><i class="fa fa-check"></i><b>7.6.1</b> Finer geographic detail</a></li>
<li class="chapter" data-level="7.6.2" data-path="counted.html"><a href="counted.html#testing-hypotheses"><i class="fa fa-check"></i><b>7.6.2</b> Testing hypotheses</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html"><i class="fa fa-check"></i><b>8</b> Assorted Examples of Toolmaking</a><ul>
<li class="chapter" data-level="8.1" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#diy-r-packages"><i class="fa fa-check"></i><b>8.1</b> DIY R Packages</a></li>
<li class="chapter" data-level="8.2" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#the-short-genome-file-day-to-day-python"><i class="fa fa-check"></i><b>8.2</b> The Short Genome File: Day-to-Day Python</a><ul>
<li class="chapter" data-level="8.2.1" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#case-description-4"><i class="fa fa-check"></i><b>8.2.1</b> Case Description</a></li>
<li class="chapter" data-level="8.2.2" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#conversion-problem"><i class="fa fa-check"></i><b>8.2.2</b> Conversion Problem</a></li>
<li class="chapter" data-level="8.2.3" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#everyday-solution"><i class="fa fa-check"></i><b>8.2.3</b> Everyday Solution</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#hard-but-simple-parsing-yaml-files-in-haskell"><i class="fa fa-check"></i><b>8.3</b> Hard but simple – parsing YAML files in Haskell</a></li>
<li class="chapter" data-level="8.4" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#contextual-awareness"><i class="fa fa-check"></i><b>8.4</b> Contextual Awareness</a></li>
<li class="chapter" data-level="8.5" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#minimalism-throws-you-into-the-pool"><i class="fa fa-check"></i><b>8.5</b> Minimalism Throws You into the Pool</a></li>
<li class="chapter" data-level="8.6" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#parsing-system-date-strings-into-python-datetime-objects"><i class="fa fa-check"></i><b>8.6</b> Parsing system date strings into Python datetime objects</a></li>
<li class="chapter" data-level="8.7" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#combination-of-k-items-taken-n-at-a-time"><i class="fa fa-check"></i><b>8.7</b> Combination of k items, taken n at a time</a></li>
<li class="chapter" data-level="8.8" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#flexbison-to-compile-data-parser-for-june-20-2018-form"><i class="fa fa-check"></i><b>8.8</b> Flex/Bison to compile data parser for June 20, 2018 form</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science Portfolio</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2" class="section level1">
<h1><span class="header-section-number">4</span> The subprime mortgage crisis unfolds in early 2007, part 2</h1>
<p>Keywords: logistic regression, confusion matrix</p>
<div id="the-fall-of-fico" class="section level2">
<h2><span class="header-section-number">4.1</span> The fall of FICO</h2>
<p>The problem with the conventional wisdom of long standing is that it loses sight of history. The prominence of FICO in home loan credit underwriting described in the <a href="https://democrats-oversight.house.gov/sites/democrats.oversight.house.gov/files/documents/Fannie%20Freddie%20Testimony%20of%20Edward%20Pinto%2012.9.08%20written%20submission%20Full.pdf">Pinto Testimony</a> had its origins in a different time (the early 1990s) and a different lending environment. Freddie Mac was in a good position to ensure that all other things <em>were</em> equal. It made only what came to be called “prime” loans, generally for no more than 80% of the value of the property, under more stringent limitations on the debt-to-income ratio of the borrower and many other criteria that it kept within a narrow range, and offered only a few varieties of loans.</p>
<p>In the subprime market that emerged in the late 90s, all of those factors changed. Criteria that were narrow became broad, documentation was relaxed and a widespread assumption was that continually rising home values would preclude any problems. It’s not surprising that FICO lost its predictive power.</p>
</div>
<div id="overview-of-the-down-dependent-variable" class="section level2">
<h2><span class="header-section-number">4.2</span> Overview of the <em>down</em> dependent variable</h2>
<pre><code>## Version:  1.36.23
## Date:     2017-03-03
## Author:   Philip Leifeld (University of Glasgow)
## 
## Please cite the JSS article in your publications -- see citation(&quot;texreg&quot;).</code></pre>
<pre><code>## 
## Attaching package: &#39;texreg&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:tidyr&#39;:
## 
##     extract</code></pre>
<img src="_main_files/figure-html/setup4A-1.png" width="672" />
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:setup4A">Table 4.1: </span>Number of loans with negative values of <em>down</em> by transaction
</caption>
<thead>
<tr>
<th style="text-align:left;">
deal
</th>
<th style="text-align:right;">
count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
LBMLT 2006-1
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
LBMLT 2006-10
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
LBMLT 2006-11
</td>
<td style="text-align:right;">
25
</td>
</tr>
<tr>
<td style="text-align:left;">
LBMLT 2006-2
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
LBMLT 2006-3
</td>
<td style="text-align:right;">
21
</td>
</tr>
<tr>
<td style="text-align:left;">
LBMLT 2006-4
</td>
<td style="text-align:right;">
34
</td>
</tr>
<tr>
<td style="text-align:left;">
LBMLT 2006-5
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
LBMLT 2006-6
</td>
<td style="text-align:right;">
26
</td>
</tr>
<tr>
<td style="text-align:left;">
LBMLT 2006-7
</td>
<td style="text-align:right;">
21
</td>
</tr>
<tr>
<td style="text-align:left;">
LBMLT 2006-8
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
LBMLT 2006-9
</td>
<td style="text-align:right;">
27
</td>
</tr>
<tr>
<td style="text-align:left;">
LBMLT 2006-WL1
</td>
<td style="text-align:right;">
17
</td>
</tr>
<tr>
<td style="text-align:left;">
LBMLT 2006-WL2
</td>
<td style="text-align:right;">
32
</td>
</tr>
<tr>
<td style="text-align:left;">
LBMLT 2006-WL3
</td>
<td style="text-align:right;">
33
</td>
</tr>
</tbody>
</table>
<pre><code>MariaDB [dlf]&gt; select down, count(down) from y7 group by down;
+------+-------------+
| down | count(down) |
+------+-------------+
|  -13 |           1 |
|  -10 |           1 |
|   -7 |           2 |
|   -6 |           3 |
|   -5 |           6 |
|   -4 |           4 |
|   -3 |          16 |
|   -2 |          67 |
|   -1 |         253 |
|    0 |       64229 |
|    1 |       10245 |
|    2 |        4724 |
|    3 |        2830 |
|    4 |        2074 |
|    5 |        1763 |
|    6 |        1627 |
|    7 |        1451 |
|    8 |        1470 |
|    9 |        1286 |
|   10 |        1019 |
|   11 |         852 |
|   12 |         728 |
|   13 |         600 |
|   14 |         448 |
|   15 |         306 |
|   16 |         160 |
|   17 |          88 |
|   18 |          18 |
+------+-------------+</code></pre>
<p>Most of the loans are current – <em>down</em> = 0 – but a substantial number are in arrears by one or two payments or defaulted and in various stages of foreclosure.</p>
<p>The negative entries represent a few hundred loans that have made up to 13 months of advanced monthly payments (this was confirmed by checking a field in the database <em>ptd</em>, paid through date).</p>
</div>
<div id="logistic-regression" class="section level2">
<h2><span class="header-section-number">4.3</span> Logistic Regression</h2>
<div id="restructuring-the-data" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Restructuring the data</h3>
<p>In this section we will be using logistic regression, for which we need a response variable that is binary, 1 or 0, performing or non-performing. This requires classifying the 28 values of <em>down.</em> I have chosen to classify two or fewer payments missed as performing (1), and three or more payments missed as non-performing (0). The binary performance variable will be named <em>perf.</em></p>
<p>Some of the testing of FICO as a useful metric involved subsetting the data. There were many more variables than the ones used, some of them categorical and some categorical coded as numeric. Here is a summary of the remaining variables</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:binarize">Table 4.2: </span>Performance Summary
</caption>
<thead>
<tr>
<th style="text-align:right;">
perf
</th>
<th style="text-align:right;">
count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
16,720
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
79,549
</td>
</tr>
</tbody>
</table>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:binarize">Table 4.2: </span>Origination Credit Grades Summary
</caption>
<thead>
<tr>
<th style="text-align:left;">
grade
</th>
<th style="text-align:right;">
count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:right;">
6,886
</td>
</tr>
<tr>
<td style="text-align:left;">
A-
</td>
<td style="text-align:right;">
1,989
</td>
</tr>
<tr>
<td style="text-align:left;">
A+
</td>
<td style="text-align:right;">
9,604
</td>
</tr>
<tr>
<td style="text-align:left;">
AA
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
AP
</td>
<td style="text-align:right;">
69,104
</td>
</tr>
<tr>
<td style="text-align:left;">
AP+
</td>
<td style="text-align:right;">
2,573
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
2,039
</td>
</tr>
<tr>
<td style="text-align:left;">
B-
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
B+
</td>
<td style="text-align:right;">
1,568
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:right;">
2,502
</td>
</tr>
<tr>
<td style="text-align:left;">
D
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:binarize">Table 4.2: </span>Loan Purpose Summary
</caption>
<thead>
<tr>
<th style="text-align:left;">
purpose
</th>
<th style="text-align:right;">
count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Purchase
</td>
<td style="text-align:right;">
62,077
</td>
</tr>
<tr>
<td style="text-align:left;">
Refi - Cashout
</td>
<td style="text-align:right;">
30,101
</td>
</tr>
<tr>
<td style="text-align:left;">
Refi - No Cashout
</td>
<td style="text-align:right;">
4,091
</td>
</tr>
</tbody>
</table>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:binarize">Table 4.2: </span>Underwriting Documentation Type
</caption>
<thead>
<tr>
<th style="text-align:left;">
dtype
</th>
<th style="text-align:right;">
count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Full
</td>
<td style="text-align:right;">
52,580
</td>
</tr>
<tr>
<td style="text-align:left;">
Limited
</td>
<td style="text-align:right;">
3,789
</td>
</tr>
<tr>
<td style="text-align:left;">
Stated
</td>
<td style="text-align:right;">
39,900
</td>
</tr>
</tbody>
</table>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:binarize">Table 4.2: </span>Loan Type Summary
</caption>
<thead>
<tr>
<th style="text-align:left;">
ltype
</th>
<th style="text-align:right;">
count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2/28 LIBOR
</td>
<td style="text-align:right;">
27,224
</td>
</tr>
<tr>
<td style="text-align:left;">
2/38 LIBOR
</td>
<td style="text-align:right;">
22,602
</td>
</tr>
<tr>
<td style="text-align:left;">
2nd Fixed
</td>
<td style="text-align:right;">
15,145
</td>
</tr>
<tr>
<td style="text-align:left;">
3/27 LIBOR
</td>
<td style="text-align:right;">
3,564
</td>
</tr>
<tr>
<td style="text-align:left;">
3/37 LIBOR
</td>
<td style="text-align:right;">
3,614
</td>
</tr>
<tr>
<td style="text-align:left;">
5/25 LIBOR
</td>
<td style="text-align:right;">
4,303
</td>
</tr>
<tr>
<td style="text-align:left;">
5/35 LIBOR
</td>
<td style="text-align:right;">
2,705
</td>
</tr>
<tr>
<td style="text-align:left;">
6 Month LIBOR
</td>
<td style="text-align:right;">
51
</td>
</tr>
<tr>
<td style="text-align:left;">
Fixed
</td>
<td style="text-align:right;">
12,292
</td>
</tr>
<tr>
<td style="text-align:left;">
I/O 2/28 LIBOR
</td>
<td style="text-align:right;">
3,492
</td>
</tr>
<tr>
<td style="text-align:left;">
I/O 3/27 LIBOR
</td>
<td style="text-align:right;">
378
</td>
</tr>
<tr>
<td style="text-align:left;">
I/O 3/37 LIBOR
</td>
<td style="text-align:right;">
63
</td>
</tr>
<tr>
<td style="text-align:left;">
I/O 5/25 LIBOR
</td>
<td style="text-align:right;">
836
</td>
</tr>
</tbody>
</table>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:binarize">Table 4.2: </span>Occupancy Type Summary
</caption>
<thead>
<tr>
<th style="text-align:left;">
otype
</th>
<th style="text-align:right;">
count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
NOO
</td>
<td style="text-align:right;">
11,197
</td>
</tr>
<tr>
<td style="text-align:left;">
OO
</td>
<td style="text-align:right;">
83,959
</td>
</tr>
<tr>
<td style="text-align:left;">
sechome
</td>
<td style="text-align:right;">
1,113
</td>
</tr>
</tbody>
</table>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:binarize">Table 4.2: </span>Property Type Summary
</caption>
<thead>
<tr>
<th style="text-align:left;">
ptype
</th>
<th style="text-align:right;">
count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2-4 Units
</td>
<td style="text-align:right;">
6,536
</td>
</tr>
<tr>
<td style="text-align:left;">
Condo
</td>
<td style="text-align:right;">
8,276
</td>
</tr>
<tr>
<td style="text-align:left;">
PUD
</td>
<td style="text-align:right;">
12,052
</td>
</tr>
<tr>
<td style="text-align:left;">
SFR
</td>
<td style="text-align:right;">
69,191
</td>
</tr>
<tr>
<td style="text-align:left;">
Townhouse
</td>
<td style="text-align:right;">
214
</td>
</tr>
</tbody>
</table>
</div>
<div id="creating-training-and-testing-subsets-and-their-subsamples" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Creating training and testing subsets and their subsamples</h3>
<p>The next step is to split the original dataset into a training set of approximately 2/3 of the data and a test set of the data and normalize the numeric data to prepare for testing.</p>
<p>This results in a training set with 64,212 and a test set with 46,697, each of which is a moderately largish dataset in its own right, so we will sample 12% of each to get reduced sets, a training sample of 7,705 and a test sample of 5,604.</p>
</div>
<div id="using-the-quantitative-variables-to-predict-loan-performance-with-logistic-regression" class="section level3">
<h3><span class="header-section-number">4.3.3</span> Using the quantitative variables to predict loan performance with logistic regression</h3>
<p>To start, we are going to return to the numeric variables, <em>fico, dti, cltv, obal and orate</em>. This time the dependent variable will not be continuous, as was <em>down</em> on the linear regression model, but binary, <em>perf</em>, with 1 for performing and 0 for non-performing. For this we use a generlized linear model on the sample of our training set.</p>
<table style="width:88%;">
<caption>Fitting generalized (binomial/logit) linear model: perf ~ fico + dti + cltv + obal + orate</caption>
<colgroup>
<col width="25%" />
<col width="15%" />
<col width="18%" />
<col width="13%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">Estimate</th>
<th align="center">Std. Error</th>
<th align="center">z value</th>
<th align="center">Pr(&gt;|z|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>(Intercept)</strong></td>
<td align="center">1.753</td>
<td align="center">0.03564</td>
<td align="center">49.18</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center"><strong>fico</strong></td>
<td align="center">0.1537</td>
<td align="center">0.03649</td>
<td align="center">4.213</td>
<td align="center">2.524e-05</td>
</tr>
<tr class="odd">
<td align="center"><strong>dti</strong></td>
<td align="center">0.05303</td>
<td align="center">0.03312</td>
<td align="center">1.601</td>
<td align="center">0.1093</td>
</tr>
<tr class="even">
<td align="center"><strong>cltv</strong></td>
<td align="center">-0.5646</td>
<td align="center">0.05113</td>
<td align="center">-11.04</td>
<td align="center">2.411e-28</td>
</tr>
<tr class="odd">
<td align="center"><strong>obal</strong></td>
<td align="center">-0.4729</td>
<td align="center">0.03248</td>
<td align="center">-14.56</td>
<td align="center">5.031e-48</td>
</tr>
<tr class="even">
<td align="center"><strong>orate</strong></td>
<td align="center">-0.5118</td>
<td align="center">0.03612</td>
<td align="center">-14.17</td>
<td align="center">1.406e-45</td>
</tr>
</tbody>
</table>
<p>All of the numeric variables have <em>some</em> degree of predictive power, except for <em>dti</em>.</p>
<p>Omitting <em>dti</em> yields</p>
<table style="width:88%;">
<caption>Fitting generalized (binomial/logit) linear model: perf ~ fico + cltv + obal + orate</caption>
<colgroup>
<col width="25%" />
<col width="15%" />
<col width="18%" />
<col width="13%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">Estimate</th>
<th align="center">Std. Error</th>
<th align="center">z value</th>
<th align="center">Pr(&gt;|z|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>(Intercept)</strong></td>
<td align="center">1.752</td>
<td align="center">0.0356</td>
<td align="center">49.23</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center"><strong>fico</strong></td>
<td align="center">0.1475</td>
<td align="center">0.03627</td>
<td align="center">4.066</td>
<td align="center">4.775e-05</td>
</tr>
<tr class="odd">
<td align="center"><strong>cltv</strong></td>
<td align="center">-0.55</td>
<td align="center">0.05012</td>
<td align="center">-10.97</td>
<td align="center">5.118e-28</td>
</tr>
<tr class="even">
<td align="center"><strong>obal</strong></td>
<td align="center">-0.4682</td>
<td align="center">0.03235</td>
<td align="center">-14.47</td>
<td align="center">1.767e-47</td>
</tr>
<tr class="odd">
<td align="center"><strong>orate</strong></td>
<td align="center">-0.5151</td>
<td align="center">0.03605</td>
<td align="center">-14.29</td>
<td align="center">2.573e-46</td>
</tr>
</tbody>
</table>
</div>
<div id="intepreting-the-results" class="section level3">
<h3><span class="header-section-number">4.3.4</span> Intepreting the results</h3>
<div id="how-well-does-the-training-set-self-classify" class="section level4">
<h4><span class="header-section-number">4.3.4.1</span> How well does the training set self-classify?</h4>
<p>Given the training model, we are going to turn it on itself through the <em>predict</em> function, which will give the probability for each loan of its <em>perf</em> being non-zero. This produces what is called a <em>confusion matrix.</em></p>
<table style="width:32%;">
<colgroup>
<col width="12%" />
<col width="9%" />
<col width="9%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">0</th>
<th align="center">1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>0</strong></td>
<td align="center">23</td>
<td align="center">22</td>
</tr>
<tr class="even">
<td align="center"><strong>1</strong></td>
<td align="center">1306</td>
<td align="center">6354</td>
</tr>
</tbody>
</table>
<p>The model classified 0.83 of the outcomes as having a greater than 50% probability of performing (*i.e., better than guessing). If we had set the bar at 75%, the results are similar: 0.82. Reaching for 80% accuracy, however, drops the results to 0.67.</p>
</div>
<div id="does-the-training-model-do-as-well-on-the-test-sample-it-hasnt-yet-seen" class="section level4">
<h4><span class="header-section-number">4.3.4.2</span> Does the training model do as well on the test sample it hasn’t yet seen?</h4>
<table style="width:29%;">
<colgroup>
<col width="12%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">0</th>
<th align="center">1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>0</strong></td>
<td align="center">12</td>
<td align="center">16</td>
</tr>
<tr class="even">
<td align="center"><strong>1</strong></td>
<td align="center">942</td>
<td align="center">4634</td>
</tr>
</tbody>
</table>
<p>The training model does quite well on the test data. The model classified 0.83 of the outcomes as having a greater than 50% probability of performing (*i.e., better than guessing). If we had set the bar at 75%, the results are similar: 0.82. Reaching for 80% accuracy, however, drops the results to 0.68.</p>
</div>
</div>
<div id="next-steps" class="section level3">
<h3><span class="header-section-number">4.3.5</span> Next steps</h3>
<p>We have a promising logistic model based on all of the quantitative variables but one, <em>dti</em>, that lacked predictive power. You could say, informally, that it has 75% accuracy. In the next installment, we will look at the effects of adding in the qualitative variables and move on to resampling and other cross validation methods.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="daycare.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
