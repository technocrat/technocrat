<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data Science Portfolio</title>
  <meta name="description" content="Landing site">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Data Science Portfolio" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Landing site" />
  <meta name="github-repo" content="github/technocrat/technocrat.github.io" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Science Portfolio" />
  
  <meta name="twitter:description" content="Landing site" />
  

<meta name="author" content="Richard Careaga">


<meta name="date" content="2018-08-25">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="counted.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Purpose</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#updates"><i class="fa fa-check"></i><b>1.1</b> Updates</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#literate-programming-the-tight-integration-of-code-and-text"><i class="fa fa-check"></i><b>1.2</b> Literate programming: the tight integration of code and text</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#background"><i class="fa fa-check"></i><b>1.3</b> Background</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#the-cases"><i class="fa fa-check"></i><b>1.4</b> The Cases</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#current-credentials"><i class="fa fa-check"></i><b>1.5</b> Current Credentials</a><ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#graduate-school-level"><i class="fa fa-check"></i><b>1.5.1</b> Graduate school level</a></li>
<li class="chapter" data-level="1.5.2" data-path="index.html"><a href="index.html#undergraduate-level"><i class="fa fa-check"></i><b>1.5.2</b> Undergraduate level</a></li>
<li class="chapter" data-level="1.5.3" data-path="index.html"><a href="index.html#prior-analytic-and-programming-experience"><i class="fa fa-check"></i><b>1.5.3</b> Prior analytic and programming experience</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="dectab.html"><a href="dectab.html"><i class="fa fa-check"></i><b>2</b> The Financial Cash Flow Model: Python on Wall Street</a><ul>
<li class="chapter" data-level="2.1" data-path="dectab.html"><a href="dectab.html#case-description"><i class="fa fa-check"></i><b>2.1</b> Case Description</a></li>
<li class="chapter" data-level="2.2" data-path="dectab.html"><a href="dectab.html#xml-conversion"><i class="fa fa-check"></i><b>2.2</b> XML Conversion</a></li>
<li class="chapter" data-level="2.3" data-path="dectab.html"><a href="dectab.html#from-xml-to-plain-text"><i class="fa fa-check"></i><b>2.3</b> From XML to Plain Text</a></li>
<li class="chapter" data-level="2.4" data-path="dectab.html"><a href="dectab.html#proof-of-concept-summary-fico-statistics"><i class="fa fa-check"></i><b>2.4</b> Proof of Concept, Summary FICO Statistics</a></li>
<li class="chapter" data-level="2.5" data-path="dectab.html"><a href="dectab.html#the-cash-flow-model"><i class="fa fa-check"></i><b>2.5</b> The Cash Flow Model</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><i class="fa fa-check"></i><b>3</b> The subprime mortgage crisis unfolds in early 2007, part 1</a><ul>
<li class="chapter" data-level="3.1" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#case-description-1"><i class="fa fa-check"></i><b>3.1</b> Case Description</a></li>
<li class="chapter" data-level="3.2" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#data-wrangling"><i class="fa fa-check"></i><b>3.2</b> Data Wrangling</a></li>
<li class="chapter" data-level="3.3" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#database-conversion"><i class="fa fa-check"></i><b>3.3</b> Database conversion</a></li>
<li class="chapter" data-level="3.4" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#preliminary-analysis-based-on-fico-scores"><i class="fa fa-check"></i><b>3.4</b> Preliminary analysis, based on FICO scores</a><ul>
<li class="chapter" data-level="3.4.1" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#ficos-importance"><i class="fa fa-check"></i><b>3.4.1</b> FICO’s importance</a></li>
<li class="chapter" data-level="3.4.2" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#fico-scores-in-the-2006-loan-pool"><i class="fa fa-check"></i><b>3.4.2</b> FICO scores in the 2006 loan pool</a></li>
<li class="chapter" data-level="3.4.3" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#the-fico-scores-are-not-normally-distributed"><i class="fa fa-check"></i><b>3.4.3</b> The FICO scores are not normally distributed</a></li>
<li class="chapter" data-level="3.4.4" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#possible-strategies-to-deal-with-the-issues"><i class="fa fa-check"></i><b>3.4.4</b> Possible strategies to deal with the issues</a></li>
<li class="chapter" data-level="3.4.5" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#reduced-data-set"><i class="fa fa-check"></i><b>3.4.5</b> Reduced data set</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-1.html#results-at-this-point"><i class="fa fa-check"></i><b>3.5</b> Results at this point</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><i class="fa fa-check"></i><b>4</b> The subprime mortgage crisis unfolds in early 2007, part 2</a><ul>
<li class="chapter" data-level="4.1" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#the-fall-of-fico"><i class="fa fa-check"></i><b>4.1</b> The fall of FICO</a></li>
<li class="chapter" data-level="4.2" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#restructuring-the-data"><i class="fa fa-check"></i><b>4.2</b> Restructuring the data</a></li>
<li class="chapter" data-level="4.3" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#principal-component-analysis"><i class="fa fa-check"></i><b>4.3</b> Principal component analysis</a></li>
<li class="chapter" data-level="4.4" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#k-means-clustering"><i class="fa fa-check"></i><b>4.4</b> K-means clustering</a><ul>
<li class="chapter" data-level="4.4.1" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#housekeeping"><i class="fa fa-check"></i><b>4.4.1</b> Housekeeping</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#do-the-clusters-predict-loan-performance"><i class="fa fa-check"></i><b>4.5</b> Do the clusters predict loan performance?</a><ul>
<li class="chapter" data-level="4.5.1" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#correspondence-analysis"><i class="fa fa-check"></i><b>4.5.1</b> Correspondence analysis</a></li>
<li class="chapter" data-level="4.5.2" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-2.html#what-do-other-categorical-contingency-tables-tell-us"><i class="fa fa-check"></i><b>4.5.2</b> What do other categorical contingency tables tell us?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-3.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-3.html"><i class="fa fa-check"></i><b>5</b> The subprime mortgage crisis unfolds in early 2007, part 3</a><ul>
<li class="chapter" data-level="5.1" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-3.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-3.html#selection-bias"><i class="fa fa-check"></i><b>5.1</b> Selection bias</a><ul>
<li class="chapter" data-level="5.1.1" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-3.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-3.html#fico-the-light-that-failed"><i class="fa fa-check"></i><b>5.1.1</b> FICO, the light that failed</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-3.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-3.html#next-steps-overfit-or-stratify"><i class="fa fa-check"></i><b>5.2</b> Next steps: Overfit or Stratify?</a><ul>
<li class="chapter" data-level="5.2.1" data-path="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-3.html"><a href="the-subprime-mortgage-crisis-unfolds-in-early-2007-part-3.html#overview"><i class="fa fa-check"></i><b>5.2.1</b> Overview</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="daycare.html"><a href="daycare.html"><i class="fa fa-check"></i><b>6</b> Daycare Costs and Unexamined Assumptions</a><ul>
<li class="chapter" data-level="6.1" data-path="daycare.html"><a href="daycare.html#case-description-2"><i class="fa fa-check"></i><b>6.1</b> Case Description</a></li>
<li class="chapter" data-level="6.2" data-path="daycare.html"><a href="daycare.html#with-the-right-metrics"><i class="fa fa-check"></i><b>6.2</b> With the right metrics</a></li>
<li class="chapter" data-level="6.3" data-path="daycare.html"><a href="daycare.html#takeaway"><i class="fa fa-check"></i><b>6.3</b> Takeaway</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html"><i class="fa fa-check"></i><b>7</b> The Enron Email Corpus</a><ul>
<li class="chapter" data-level="7.1" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#case-description-3"><i class="fa fa-check"></i><b>7.1</b> Case Description</a></li>
<li class="chapter" data-level="7.2" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#data-preparation"><i class="fa fa-check"></i><b>7.2</b> Data preparation</a><ul>
<li class="chapter" data-level="7.2.1" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#preparation"><i class="fa fa-check"></i><b>7.2.1</b> Preparation</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#strategy-for-exploration"><i class="fa fa-check"></i><b>7.3</b> Strategy for exploration</a><ul>
<li class="chapter" data-level="7.3.1" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#dont-look-for-much-from-the-big-shots"><i class="fa fa-check"></i><b>7.3.1</b> Don’t look for much from the big shots</a></li>
<li class="chapter" data-level="7.3.2" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#volume-is-not-evenly-distributed-among-users"><i class="fa fa-check"></i><b>7.3.2</b> Volume is not evenly distributed among users</a></li>
<li class="chapter" data-level="7.3.3" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#keywords-may-not-help-much"><i class="fa fa-check"></i><b>7.3.3</b> Keywords may not help much</a></li>
<li class="chapter" data-level="7.3.4" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#dont-neglect-time-series"><i class="fa fa-check"></i><b>7.3.4</b> Don’t neglect time series</a></li>
<li class="chapter" data-level="7.3.5" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#avoid-the-echo-chamber"><i class="fa fa-check"></i><b>7.3.5</b> Avoid the echo chamber</a></li>
<li class="chapter" data-level="7.3.6" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#the-real-value-proposition"><i class="fa fa-check"></i><b>7.3.6</b> The REAL value proposition</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#some-preliminary-results"><i class="fa fa-check"></i><b>7.4</b> Some preliminary results</a><ul>
<li class="chapter" data-level="7.4.1" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#unique-senders"><i class="fa fa-check"></i><b>7.4.1</b> Unique senders</a></li>
<li class="chapter" data-level="7.4.2" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#unique-receivers"><i class="fa fa-check"></i><b>7.4.2</b> Unique receivers</a></li>
<li class="chapter" data-level="7.4.3" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#senders-who-are-also-receivers"><i class="fa fa-check"></i><b>7.4.3</b> Senders who are also receivers</a></li>
<li class="chapter" data-level="7.4.4" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#senderreceivers-with-enron-addresses"><i class="fa fa-check"></i><b>7.4.4</b> Sender/receivers with Enron addresses</a></li>
<li class="chapter" data-level="7.4.5" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#subject-line-words"><i class="fa fa-check"></i><b>7.4.5</b> Subject line words</a></li>
<li class="chapter" data-level="7.4.6" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#places-mentioned"><i class="fa fa-check"></i><b>7.4.6</b> Places mentioned</a></li>
<li class="chapter" data-level="7.4.7" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#periodicity"><i class="fa fa-check"></i><b>7.4.7</b> Periodicity</a></li>
<li class="chapter" data-level="7.4.8" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#social-networks"><i class="fa fa-check"></i><b>7.4.8</b> Social Networks</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="the-enron-email-corpus.html"><a href="the-enron-email-corpus.html#future-work"><i class="fa fa-check"></i><b>7.5</b> Future work</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="counted.html"><a href="counted.html"><i class="fa fa-check"></i><b>8</b> 2015 Police Involved Homicides</a><ul>
<li class="chapter" data-level="8.1" data-path="counted.html"><a href="counted.html#introduction"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="counted.html"><a href="counted.html#the-data"><i class="fa fa-check"></i><b>8.2</b> The Data</a></li>
<li class="chapter" data-level="8.3" data-path="counted.html"><a href="counted.html#tabular-summary-of-the-data"><i class="fa fa-check"></i><b>8.3</b> Tabular summary of the data</a><ul>
<li class="chapter" data-level="8.3.1" data-path="counted.html"><a href="counted.html#gender"><i class="fa fa-check"></i><b>8.3.1</b> Gender</a></li>
<li class="chapter" data-level="8.3.2" data-path="counted.html"><a href="counted.html#raceethnicity"><i class="fa fa-check"></i><b>8.3.2</b> Race/Ethnicity</a></li>
<li class="chapter" data-level="8.3.3" data-path="counted.html"><a href="counted.html#age"><i class="fa fa-check"></i><b>8.3.3</b> Age</a></li>
<li class="chapter" data-level="8.3.4" data-path="counted.html"><a href="counted.html#cause-of-death"><i class="fa fa-check"></i><b>8.3.4</b> Cause of Death</a></li>
<li class="chapter" data-level="8.3.5" data-path="counted.html"><a href="counted.html#whether-and-how-civilians-were-armed"><i class="fa fa-check"></i><b>8.3.5</b> Whether and how civilians were armed</a></li>
<li class="chapter" data-level="8.3.6" data-path="counted.html"><a href="counted.html#location"><i class="fa fa-check"></i><b>8.3.6</b> Location</a></li>
<li class="chapter" data-level="8.3.7" data-path="counted.html"><a href="counted.html#months-and-days-of-death"><i class="fa fa-check"></i><b>8.3.7</b> Months and Days of Death</a></li>
<li class="chapter" data-level="8.3.8" data-path="counted.html"><a href="counted.html#cause-of-death-and-civilian-armed-status"><i class="fa fa-check"></i><b>8.3.8</b> Cause of Death and Civilian Armed Status</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="counted.html"><a href="counted.html#geographic-analysis-of-the-data"><i class="fa fa-check"></i><b>8.4</b> Geographic Analysis of the Data</a><ul>
<li class="chapter" data-level="8.4.1" data-path="counted.html"><a href="counted.html#many-datasets-are-distributed-similarly-to-population"><i class="fa fa-check"></i><b>8.4.1</b> Many Datasets are Distributed Similarly to Population</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="counted.html"><a href="counted.html#what-conclusions-can-we-draw-from-the-short-national-summary"><i class="fa fa-check"></i><b>8.5</b> What conclusions can we draw from the short, national summary?</a><ul>
<li class="chapter" data-level="8.5.1" data-path="counted.html"><a href="counted.html#detail-underlying-deaths-of-women"><i class="fa fa-check"></i><b>8.5.1</b> Detail underlying deaths of women</a></li>
<li class="chapter" data-level="8.5.2" data-path="counted.html"><a href="counted.html#cautionary-example"><i class="fa fa-check"></i><b>8.5.2</b> Cautionary Example</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="counted.html"><a href="counted.html#next-steps"><i class="fa fa-check"></i><b>8.6</b> Next steps</a><ul>
<li class="chapter" data-level="8.6.1" data-path="counted.html"><a href="counted.html#finer-geographic-detail"><i class="fa fa-check"></i><b>8.6.1</b> Finer geographic detail</a></li>
<li class="chapter" data-level="8.6.2" data-path="counted.html"><a href="counted.html#testing-hypotheses"><i class="fa fa-check"></i><b>8.6.2</b> Testing hypotheses</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html"><i class="fa fa-check"></i><b>9</b> Assorted Examples of Toolmaking</a><ul>
<li class="chapter" data-level="9.1" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#criticism-of-faulty-regression-methodology"><i class="fa fa-check"></i><b>9.1</b> Criticism of faulty regression methodology</a><ul>
<li class="chapter" data-level="9.1.1" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#catchy-titles-in-academic-papers-attract-readers.-its-hard-to-resist."><i class="fa fa-check"></i><b>9.1.1</b> Catchy titles in academic papers attract readers. It’s hard to resist.</a></li>
<li class="chapter" data-level="9.1.2" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#the-paper-examines-gender-inequlity-in-the-securities-business"><i class="fa fa-check"></i><b>9.1.2</b> The paper examines gender inequlity in the securities business</a></li>
<li class="chapter" data-level="9.1.3" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#the-authors-construct-a-multiple-linear-regression-model"><i class="fa fa-check"></i><b>9.1.3</b> The authors construct a multiple linear regression model</a></li>
<li class="chapter" data-level="9.1.4" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#the-authors-collect-an-impressively-large-database"><i class="fa fa-check"></i><b>9.1.4</b> The authors collect an impressively large database</a></li>
<li class="chapter" data-level="9.1.5" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#the-authors-make-an-unforced-error-in-their-choice-of-methodology"><i class="fa fa-check"></i><b>9.1.5</b> The authors make an unforced error in their choice of methodology</a></li>
<li class="chapter" data-level="9.1.6" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#how-could-this-happen"><i class="fa fa-check"></i><b>9.1.6</b> How could this happen?</a></li>
<li class="chapter" data-level="9.1.7" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#who-am-i-to-criticize"><i class="fa fa-check"></i><b>9.1.7</b> Who am I to criticize?</a></li>
<li class="chapter" data-level="9.1.8" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#why-am-i-doing-this"><i class="fa fa-check"></i><b>9.1.8</b> Why am I doing this?</a></li>
<li class="chapter" data-level="9.1.9" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#how-do-i-know"><i class="fa fa-check"></i><b>9.1.9</b> How do I know?</a></li>
<li class="chapter" data-level="9.1.10" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#their-results"><i class="fa fa-check"></i><b>9.1.10</b> Their results</a></li>
<li class="chapter" data-level="9.1.11" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#a-counterexample-what-a-data-scientist-would-expect-to-see-in-a-multiple-linear-regression-model-output"><i class="fa fa-check"></i><b>9.1.11</b> A counterexample: what a data scientist would expect to see in a multiple linear regression model output</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#diy-r-packages"><i class="fa fa-check"></i><b>9.2</b> DIY R Packages</a></li>
<li class="chapter" data-level="9.3" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#the-short-genome-file-day-to-day-python"><i class="fa fa-check"></i><b>9.3</b> The Short Genome File: Day-to-Day Python</a><ul>
<li class="chapter" data-level="9.3.1" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#case-description-4"><i class="fa fa-check"></i><b>9.3.1</b> Case Description</a></li>
<li class="chapter" data-level="9.3.2" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#conversion-problem"><i class="fa fa-check"></i><b>9.3.2</b> Conversion Problem</a></li>
<li class="chapter" data-level="9.3.3" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#everyday-solution"><i class="fa fa-check"></i><b>9.3.3</b> Everyday Solution</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#hard-but-simple-parsing-yaml-files-in-haskell"><i class="fa fa-check"></i><b>9.4</b> Hard but simple – parsing YAML files in Haskell</a></li>
<li class="chapter" data-level="9.5" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#contextual-awareness"><i class="fa fa-check"></i><b>9.5</b> Contextual Awareness</a></li>
<li class="chapter" data-level="9.6" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#minimalism-throws-you-into-the-pool"><i class="fa fa-check"></i><b>9.6</b> Minimalism Throws You into the Pool</a></li>
<li class="chapter" data-level="9.7" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#parsing-system-date-strings-into-python-datetime-objects"><i class="fa fa-check"></i><b>9.7</b> Parsing system date strings into Python datetime objects</a></li>
<li class="chapter" data-level="9.8" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#combination-of-k-items-taken-n-at-a-time"><i class="fa fa-check"></i><b>9.8</b> Combination of k items, taken n at a time</a></li>
<li class="chapter" data-level="9.9" data-path="assorted-examples-of-toolmaking.html"><a href="assorted-examples-of-toolmaking.html#flexbison-to-compile-data-parser-for-june-20-2018-form"><i class="fa fa-check"></i><b>9.9</b> Flex/Bison to compile data parser for June 20, 2018 form</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science Portfolio</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="assorted-examples-of-toolmaking" class="section level1">
<h1><span class="header-section-number">9</span> Assorted Examples of Toolmaking</h1>
<div id="criticism-of-faulty-regression-methodology" class="section level2">
<h2><span class="header-section-number">9.1</span> Criticism of faulty regression methodology</h2>
<div id="catchy-titles-in-academic-papers-attract-readers.-its-hard-to-resist." class="section level3">
<h3><span class="header-section-number">9.1.1</span> Catchy titles in academic papers attract readers. It’s hard to resist.</h3>
<blockquote>
<p>When Harry Fired Sally: The Double Standard in Punishing Misconduct Mark L. Egan, Gregor Matvos, and Amit Seru NBER Working Paper No. 23242 March 2017, Revised August 2018 JEL No. D18,G24,G28,J71</p>
</blockquote>
</div>
<div id="the-paper-examines-gender-inequlity-in-the-securities-business" class="section level3">
<h3><span class="header-section-number">9.1.2</span> The paper examines gender inequlity in the securities business</h3>
<p>The authors identify a <a href="http://www.nber.org/papers/w23242">gender punishment gap</a> in their analysis of over one million cases in which an employee required to be licensed by the Securities and Exchange Commission (<em>SEC</em>) through the Financial Industry Regulatory Authority (<em>FINRA</em>) and was found to have engaged in misconduct in violation of FINRA’s rules. They find that women are terminated at a higher rate than their male counterparts and that they require a longer time to obtain another position at a different firm.</p>
<p>That this gender based disparity exists is highly plausible based on anecdoctal evidence in many areas of economic and social life and many academic studies.</p>
<p>My interest lies in their methodological approach. They give their model at page 9 of the report.</p>
</div>
<div id="the-authors-construct-a-multiple-linear-regression-model" class="section level3">
<h3><span class="header-section-number">9.1.3</span> The authors construct a multiple linear regression model</h3>
<p>Separation model:</p>
<p><span class="math inline">\(Misconduct_iqjlt = αFemale_i + βX_ it +µ_qjlt + ε*_iqjlt\)</span></p>
<p>(© 2017 by Mark L. Egan, Gregor Matvos, and Amit Seru. All rights reserved. Short sections of text, not to exceed two paragraphs, may be quoted without explicit permission provided that full credit,including © notice, is given to the source.)</p>
<p>The authors characterize their model as linear regression. Mutiple regression equations are an extension of ordinary least square regression where</p>
<p><span class="math inline">\(y = mx + b\)</span></p>
<p>with the addition of other terms.</p>
<p>The subscripts indicate individual, licensure, firm, time, and county.</p>
</div>
<div id="the-authors-collect-an-impressively-large-database" class="section level3">
<h3><span class="header-section-number">9.1.4</span> The authors collect an impressively large database</h3>
<p>The authors collected monthly records on 1.2 million registered advisers during the 2005-2015 period. They carefully analyzed first names to determine gender and censored cases where the given name was ambiguous. I was impressed by the effort put into controlling for variables with the potential to bias their results.</p>
</div>
<div id="the-authors-make-an-unforced-error-in-their-choice-of-methodology" class="section level3">
<h3><span class="header-section-number">9.1.5</span> The authors make an unforced error in their choice of methodology</h3>
<p>But now be dragons. The dependent variable is binary: how likely, given misconduct in year 0, is a subject likely to be fired in year 2. In the aggregate are there gender differences in that likelihood?</p>
<p>The technical term for this class of problem is <em>logistic regression,</em> commonly performed through a statistical technique similar to linear regression, termed <em>generalized linear model</em> with a specification of a <em>binary outcome.</em></p>
</div>
<div id="how-could-this-happen" class="section level3">
<h3><span class="header-section-number">9.1.6</span> How could this happen?</h3>
<p>The authors had good data, careful thinking about controls, yet applied a mistaken analysis. How could they have put so much time and effort into analysis, yet fall into such an obvious methodological trap?</p>
<p>My gut reaction is that they had no data science colleague down the hall to drop in and consult with.</p>
</div>
<div id="who-am-i-to-criticize" class="section level3">
<h3><span class="header-section-number">9.1.7</span> Who am I to criticize?</h3>
<p>Two of the authors are affiliated with business schools that <a href="https://www.economist.com/whichmba/full-time-mba-ranking">2017 rankings by <em>The Economist</em></a> include in the top 5 world wide. The third is affiliated with another university that is highly regarded in a number of other fields.</p>
<p>I am a mere student of applied statistics. If the question of methodological appropriateness should be decided solely on credentials, stop here.</p>
</div>
<div id="why-am-i-doing-this" class="section level3">
<h3><span class="header-section-number">9.1.8</span> Why am I doing this?</h3>
<p>It’s an important issue and the cause of promoting gender equality in this business can be set back by a faulty analysis.</p>
<blockquote>
<p>Harumph, says top management. Must not be true, then. – imaginary executive</p>
</blockquote>
<p>It’s also an important reminder not to take impressive looking quantitative analyses at face value.</p>
</div>
<div id="how-do-i-know" class="section level3">
<h3><span class="header-section-number">9.1.9</span> How do I know?</h3>
<p>I’ve run my own multiple regression analyses and logistic models and I will show what the output looks like. I’ll only take their principal model, separation given misconduct as the basis for illustrating the issues.</p>
</div>
<div id="their-results" class="section level3">
<h3><span class="header-section-number">9.1.10</span> Their results</h3>
<p>Table 3b of the paper shows their results on separation given misconduct. If accurate, the results are not pretty. <em>Whether or not accurate</em>, the results are incomplete and misleading, even if their methodology were applicable.</p>
<div class="figure">
<img src="https://s3-us-west-2.amazonaws.com/tuva/Table3b.png" alt="Table 3b" />
<p class="caption">Table 3b</p>
</div>
<p>Starting at the top, the first task to determine what the numbered columns refer to. The first column does not control for differences among the adviser’s experience and licensing, year, firm or county. The second column adds adviser exerpience and licensing. The third column adds year, firm and county. The fourth column adds the possible combinations of potential licenses that the individual holds.</p>
<p>Essentially these are four different models.</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(Misconduct_i = Person_i\)</span></li>
<li><span class="math inline">\(Misconduct_iq = αFemale_i + ε_iqjlt\)</span></li>
<li><span class="math inline">\(Misconduct_iqj = αFemale_i + βX_it + ε_iqjlt\)</span></li>
<li><span class="math inline">\(Misconduct_iqjlt = αFemale_i + βX_it + µ_qjlt + ε_iqjlt\)</span></li>
</ol>
<p>as described on page 11.</p>
<p>On page 11, the authors state: “The coefficient on misconduct measures the probability that a <em>male</em> adviser experiences a job separation following misconduct.” (emphasis added). Thus, predicting male separation from some measure of female misconduct and female status, with or without other control, seems non-sensical. Perhaps the authors expect the reader to infer the corresponding coefficient for the probability that a <em>female</em> adviser experiences a job separation. That dog won’t hunt.</p>
<p>Each column reports a number of “observations,” which correspond to the 10-year period of the data, meaning about 400K-600K observations per year. According to Table 1 on page 62, however, the 10-year incidence of misconduct by male advisers in any given year was 0.72%. Therefore, we expect to observe, on average <em>obvervations</em>/10*0.072 misconduct incidents by males per year or, for the first model approximately 43,350 incidents, of which some proportion resulted in separation. That is the <em>n</em>, or population size, that goes into the calculations, including the degrees of freedom needed to calculate the F-statistic. From the information presented, we cannot be sure what value of <em>n</em> was relied on.</p>
<p>Finally, the means of the dependent variable have unexplained similarity. Case three should not be identical to cases one and two if the added independent variables are increasing explanatory power, and the mean in case four seems too little difference from case three, given the increase in R-Squared. Without access to the author’s data, however, there is no way for me to decide that.</p>
<p>The first line, “Misconduct” contains coefficients for each of the columns, given in percentages. (More often coefficients are expressed in proportions.) Coefficients are a prediction of the effect of the variable on the outcome, holding the other variables constant. The asterisks following each measure are explained in a note to Table 3b as standard errors less than 0.01. The terminology of expressing standard errors in the form <em>p &lt; 0.01</em> is also unusual. A <em>p-value</em> measure of “statistical significance” (the probability that the result was a product of chance) usually refers to the probability of the variable is greater than a measure called the <em>t value.</em> Standard errors are also not generally expressed as percentages.</p>
<p>R-squared, sometimes called the coefficient of determination and indicates the proportion of the variance in the data that an independent variable accounts for. It is usually tweeked to an <em>adjusted R square</em> to better eliminate random variation.</p>
<p>A value of R-squared that is equal to 1 completely explains the variance. A value of 0 indicates a complete lack of explanatory power. For the first column, R-squared is 0.004. Four basis points on a billion dollars is not chump change. The same proportion in a analytic study is. The result of the second column is R-squared equals 0.014. These two columns tell us essentially nothing except the failure of the model to reflect reality when not controlling for other factors.</p>
<p>Columns three and four show R-squared of 0.332 and 0.403, respectively, which show appreciable effects in a multiple linear regression model appropriately applied.</p>
</div>
<div id="a-counterexample-what-a-data-scientist-would-expect-to-see-in-a-multiple-linear-regression-model-output" class="section level3">
<h3><span class="header-section-number">9.1.11</span> A counterexample: what a data scientist would expect to see in a multiple linear regression model output</h3>
<p>Data on <a href="https://www.kaggle.com/harlfoxem/housesalesprediction?login=true">Seattle area housing prices</a> provide a convenient way to illustrate the usual output of a multiple linear regression model output. This is a 21K dataset with 20 variables on housing characteristics and sales price.</p>
<p>The first thing I am going to do is to split the dataset 2:1 into a training set and a test set. I’ll model the training set, then see if I get comparable results on the test set. That’s something the authors of the paper omitted. I’ll be using the R statistical programming language.</p>
<p>`{r bonehead, results=“asis”, echo = FALSE, warning=FALSE} library(tidyverse) house &lt;- csv_read(“/Users/rc/projects/statistics-for-data-scientists”) glimpse(house) train &lt;- house %&gt;% sample_frac(0.66, replace = TRUE) test &lt;- setdiff(house,train) mod &lt;- lm(price ~ bedrooms + bathrooms + sqft_living + sqft_lot + yr_built, data = train) summary(mod) ```</p>
<p>Well, now! I pick a handful of variables off the top of my head and presto! My model explains over 50% of the variation in price. Am I good or what?</p>
<p>Not really, and I’ll explain all the bonehead errors in another post (didn’t normalize, used variables that are not truly independent, didn’t check the distribution of residual errors and a host of other sins). But let’s talk about the information you should expect from a multiple linear regression.</p>
</div>
</div>
<div id="diy-r-packages" class="section level2">
<h2><span class="header-section-number">9.2</span> DIY R Packages</h2>
<p>keywords: workflow, documentation, repository, github</p>
<p>During exploratory analysis, I often find that after hitting on a promising analysis and beginning to apply it to, say, stratifications, that I’m doing cutting and pasting. That’s when I know that it’s time to move beyond scraps or even scripts and create a package. I started one for the subprime mortgage analysis, which you can see at <a href="https://github.com/technocrat/technocrat.github.io/tree/master/subprimeR">subprimeR</a> on github.</p>
</div>
<div id="the-short-genome-file-day-to-day-python" class="section level2">
<h2><span class="header-section-number">9.3</span> The Short Genome File: Day-to-Day Python</h2>
<p>Keywords: Python, one-off, utility</p>
<div id="case-description-4" class="section level3">
<h3><span class="header-section-number">9.3.1</span> Case Description</h3>
<p>One of the recent courses that I took at MIT had a simple short datafile <a href="https://goo.gl/qYvDHA">genome</a>, representing a portion of the DNA sequences of <em>Caulobacter crescentus</em>, a species of bacteria very popular in biological studies. The class problem was in K-means clustering based on principal component analysis of the <a href="https://goo.gl/qYvDHA">genome</a> data.</p>
</div>
<div id="conversion-problem" class="section level3">
<h3><span class="header-section-number">9.3.2</span> Conversion Problem</h3>
<p>That data consisted 1,528 lines of 200-character fragments. The building blocks of DNA genomes are very simple, consisting of sequences of only four possible character values, ‘A’,‘C’,‘G’,‘T’.</p>
<p>The immediate problem was that the assignment called for 300-character fragments. This is a recurring fact of life for data science; transforming data from one structure to another.</p>
</div>
<div id="everyday-solution" class="section level3">
<h3><span class="header-section-number">9.3.3</span> Everyday Solution</h3>
<p>The obvious tool was Python, and it took no more than 20 minutes to do, even for someone who used Python as a handtool rather than industrial machinery.</p>
<p>In short, we start with</p>
<blockquote>
<p>&gt;fragment of c.crescentus genome gccgatagcctatgatccc… [to 200 characters]</p>
</blockquote>
<p>and then apply a short Python program</p>
<pre><code># required modules
import csv
import itertools
import textwrap

data  = &quot;/Users/rc/Desktop/MITx8/ccrescentus.fa&quot; # your path here
# Desired length of genome fragments
fraglen = 300
OBJECT = [] # empty bucket
f = csv.reader(open(data, &#39;r&#39;))

# read the source file into a list
for row in f:
    OBJECT.append(row) 
# remove header &#39;&gt;fragment of c.crescentus genome&#39;
del(OBJECT[0])
# combine all of the 200-character lines from the source
laundry = list(itertools.chain(*OBJECT))
# join them back into a single string
washed = &#39;&#39;.join(laundry)
# check to make sure each line of data can be 300 characters long
overage = len(washed)%fraglen 
# should return True to the console
overage == 0
# split the string into 300-character list elements
dried = textwrap.wrap(washed,300)
# write the processed file back to a processed file, adding
# opening and closing double quotes and new lines
with open(&#39;fragments.csv&#39;, &#39;w&#39;) as f:
    f.write(&#39;\&quot;&#39;)
    f.write(&#39;\&quot;\n&#39;.join(dried))
# &quot;fragments.csv&quot; is now ready for analysis with Python or R</code></pre>
<p>and end up with</p>
<blockquote>
<p>“gccgatagcctatgatcccc … [to 300 characters]</p>
</blockquote>
<p>Athough I checked that I had enough data to make each line 300-characters long, I did lose a few bytes in the conversions, which isn’t material for purposes of the exercise.</p>
<p>This is not intended as an example of best-practices Python programming, nor I am not a programmer. I use programming to solve problems. If I have a solution like this, I go to a programmer to scale it, when necessary.</p>
</div>
</div>
<div id="hard-but-simple-parsing-yaml-files-in-haskell" class="section level2">
<h2><span class="header-section-number">9.4</span> Hard but simple – parsing YAML files in Haskell</h2>
<p>It is a truth universally acknowledged that the best way to learn a language is from the lips of a lover. Mine, alas, has no Haskell, so I have made the choice I usually do. Rather than attempting first to master the rules of syntax and the rationale underlying a new computer language, I launch into trying to solve a real problem, by which I mean automating some repetitive task that I would otherwise have to do by hand.</p>
<p>In this case, it was tweaking a LaTeX table. I chose Haskell because I was already using the estimable <strong>pandoc</strong> to convert the rest of my document and it has a facility to pipe its AST (abstract syntax tree) through to a filter for intermediate processing before rendering the final document.</p>
<p>Alas, the functionality I sought was not available without doing some heavy lifting of internals that is beyond my pay grade as a rank Haskell beginner. I did manage to get a version working, but it had two major defects: First, it relied on parsing regular expressions. I imagine a term like unPythonic applies to this approach – unHaskellian? Second, it lacked a clean separation between logic and data, meaning it would have to be rewritten for each new table that differed from this first use.</p>
<p>The functionality could also be achieved through <em>sed</em> and <em>awk</em> in combination with the other standard tools of <em>bash</em>. But, as I had come this far with Haskell, I determined to continue.</p>
<p>I learned a lot along the way, but I’m only going to report the results. There are any number of great resources on theory and concepts, but recipes seem hard to come by.</p>
<p>To begin a yaml file, table.yaml</p>
<pre><code>stripComments: true
stripLable: true
zeroEntry: &quot;.&quot;
justifyLeft: true
stubHeader: &quot;Cause of Death&quot;
subHeader: &quot;&amp; (\\%) &amp; (\\%) &amp; (\\%) &amp; (\\%)&quot;</code></pre>
<p>In the same directory, mwe.hs</p>
<pre><code>{-# LANGUAGE OverloadedStrings #-}  -- yaml

module Mwe where

import Data.Yaml 
import Data.Maybe (fromJust)

data ReadData = ReadData { stripComments     :: Bool
                         , stripLable      :: Bool
                         , zeroEntry       :: Bool
                         , justifyLeft     :: Bool
                         , stubHeader      :: String
                         , subHeader       :: String
                         } deriving (Eq, Ord, Show)

instance FromJSON ReadData where
  parseJSON (Object v) = ReadData &lt;$&gt;
                         v .: &quot;stripComments&quot; &lt;*&gt;
                         v .: &quot;stripLable&quot;    &lt;*&gt;
                         v .: &quot;zeroEntry&quot;     &lt;*&gt;
                         v .: &quot;justifyLeft&quot;   &lt;*&gt;
                         v .: &quot;stubHeader&quot;    &lt;*&gt;
                         v .: &quot;subHeader&quot; 
  parseJSON _ = error &quot;Can&#39;t parse ReadData from YAML/JSON&quot;</code></pre>
<p>I won’t embarrass myself by revealing how long it took to get this working. I did pick up a fairly solid understanding of types, some insight into typeclasses and instances and got on the right track for IO and Maybe, with some notion of what it means to be pure in Haskell. What took the longest was how to do anything with a successful read of a yaml file other than to print it, which is where the examples I found stopped. I acknowledge my debt to the many sources I consulted to figure this out.</p>
</div>
<div id="contextual-awareness" class="section level2">
<h2><span class="header-section-number">9.5</span> Contextual Awareness</h2>
<p>Whenever I see a time series that purports to show dramatic results, I like to look back to trace the prior history.</p>
<div class="figure">
<img src="http://media.richard-careaga.com/img/unemp.png" alt="Misleading unemployment data" />
<p class="caption">Misleading unemployment data</p>
</div>
</div>
<div id="minimalism-throws-you-into-the-pool" class="section level2">
<h2><span class="header-section-number">9.6</span> Minimalism Throws You into the Pool</h2>
<p>I have been dabbling in the hipster lanaguage Lua, which you have to be cool even to have heard about. Its claim to fame is minimalism. It has one data type, called a table and I found myself wanting to combine two or more of them à la cat (concatenate). WTF, there is no built-in way to do this? Incredulity began to lift when I discovered that neither was there a built-in way to even print tables. As a public service for the benefit of other pilgrims, here is</p>
<pre><code>--cat.lua concatenate tables
 function cat( ... ) -- append 1D tables
     local List = require &#39;pl.List&#39; -- penlight library
     local args = {...}
     local l = List()
     for i=1, #args do
         l:extend(args[i])
     end
     return l
 end
 --[[Example
 a = {
    &quot;gala&quot;,
    &quot;cameo&quot;,
    &quot;jazz&quot;
 }
 o = {
    &quot;seville&quot;,
    &quot;valencia&quot;,
    &quot;navel&quot;
 }
 g = {
    &quot;concord&quot;,
    &quot;thompson&quot;,
    &quot;muscat&quot;
 }
 f = cat(a,o,g)
 {gala,cameo,jazz,seville,valencia,navel,concord,thompson,muscat}
 --]]</code></pre>
</div>
<div id="parsing-system-date-strings-into-python-datetime-objects" class="section level2">
<h2><span class="header-section-number">9.7</span> Parsing system date strings into Python datetime objects</h2>
<pre><code> from datetime import datetime
 from dateutil.parser import parse
 from dateutil import tz

 s = &quot;Mon Aug 15 21:17:14 GMT 2011&quot;     
 d = parse(s)                           

 GMT = tz.gettz(&#39;UTC&#39;)                  
 Beijing = tz.gettz(&#39;Asia/Shanghai&#39;)    

 there = d.astimezone(GMT)              
                                        
 here = d.astimezone(Beijing)           

 print(here)
 print(there)</code></pre>
</div>
<div id="combination-of-k-items-taken-n-at-a-time" class="section level2">
<h2><span class="header-section-number">9.8</span> Combination of k items, taken n at a time</h2>
<p>Very functional</p>
<pre><code>-- combo.hs
-- problem: C(k,n), where k = the integers from 1 to 9, inclusive
-- and n = 3, without regard to order, then sum the subsets
import Data.List
combinations 0 lst = [[]]
combinations n lst = do
    (x:xs) &lt;- tails lst
    rest &lt;- combinations (n-1) xs
    return $ x : rest
result = ( map sum (combinations 3 [1..9]))</code></pre>
<p>Python alternative</p>
<pre><code>import itertools
result = map(sum, itertools.combinations([1,2,3,4,5,6,7,8,9], 3))
for i in result: print(i)</code></pre>
</div>
<div id="flexbison-to-compile-data-parser-for-june-20-2018-form" class="section level2">
<h2><span class="header-section-number">9.9</span> Flex/Bison to compile data parser for June 20, 2018 form</h2>
<pre><code>datify.l Bison script

/* NB: OSX, cannot link to -lfl, use -ll */
/* can&#39;t have internal comments */

%{
%}

%%

^[0-9]+         {printf(&quot;&quot;)             ; }
&quot;January &quot;      {printf(&quot;2015-01-&quot;)     ; }
&quot;February &quot;     {printf(&quot;2015-02-&quot;)     ; }
&quot;March &quot;        {printf(&quot;2015-03-&quot;)     ; }
&quot;April &quot;        {printf(&quot;2015-04-&quot;)     ; }
&quot;May &quot;          {printf(&quot;2015-05-&quot;)     ; }
&quot;June &quot;         {printf(&quot;2015-06-&quot;)     ; }
&quot;July &quot;         {printf(&quot;2015-07-&quot;)     ; }
&quot;August &quot;       {printf(&quot;2015-08-&quot;)     ; }
&quot;September &quot;    {printf(&quot;2015-09-&quot;)     ; }
&quot;October &quot;      {printf(&quot;2015-10-&quot;)     ; }
&quot;November &quot;     {printf(&quot;2015-11-&quot;)     ; }
&quot;December &quot;     {printf(&quot;2015-12-&quot;)     ; }

%%

int main()

{
 yylex();
}

datify2.l Bison script

/* NB: OSX, cannot link to -lfl, use -ll */
/* can&#39;:t have internal comments */

%{
%}

%%

&quot;-1&quot;{1}[ \t\n]  {printf(&quot;-01\n&quot;)        ; }
&quot;-2&quot;{1}[ \t\n]  {printf(&quot;-02\n&quot;)        ; }
&quot;-3&quot;{1}[ \t\n]  {printf(&quot;-03\n&quot;)        ; }
&quot;-4&quot;{1}[ \t\n]  {printf(&quot;-04\n&quot;)        ; }
&quot;-5&quot;{1}[ \t\n]  {printf(&quot;-05\n&quot;)        ; }
&quot;-6&quot;{1}[ \t\n]  {printf(&quot;-06\n&quot;)        ; }
&quot;-7&quot;{1}[ \t\n]  {printf(&quot;-07\n&quot;)        ; }
&quot;-8&quot;{1}[ \t\n]  {printf(&quot;-08\n&quot;)        ; }
&quot;-9&quot;{1}[ \t\n]  {printf(&quot;-09\n&quot;)        ; }

%%

int main()
{
 yylex();
}</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="counted.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
